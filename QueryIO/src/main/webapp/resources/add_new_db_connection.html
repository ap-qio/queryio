<div id="adddm" class="lightbox" style="width: 500px;">
	<div id="close" class="close">
		<a href="javascript:NN_Summary.closeDBBox();"><img
			src="images/light-box-close.png"></a>
	</div>
	<table id="data_migrate_table" class="outer">
		<tbody>
			<tr>
				<td id="hdr_td" style="padding: 0pt;">
					<h4 style="font-weight: normal;">
						<span id="headerspan">Add New Database</span>
					</h4>
				</td>
			</tr>
			<tr id="formTr" style="display: ">
				<td>
					<table align="center" width="100%"	style="border-collapse: collapse;">
						<tr>
							<td id="msg_td">
								<div class="instructional" style=""><span id="instruction"> Provide the Unique Connection Name for new DB Connection.</span> 
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<div class="otherinstruction" style="width: 100%">
									<hr>
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<div id="MigrateForm" style="display: ">
								<form id="db_connection">
									<input type="hidden" name="operation">
									<!-- <input type="hidden" name="connectionName">-->
							
									<div>
										<table width="100%" class="form_table " id="formTable" style=" margin-bottom: 10px; ">
											<tr>
												<td style="text-align: left;">Connection Name*:</td>
												<td style="text-align: left;"><input type="text" id ="connectionName" name="connectionName" style="width: 90%;"></td>
											</tr>
										</table>
										
									</div>
									<div id="divDBDetails">
										<table class="datatable" style="width: 100%" id="primaryTable">
											<tbody>
												<tr>
													<td style="text-align: left; width: 41%;">Type*:</td>
													<td style="text-align: left;">
														<select id="type" name="type" style="width: 60%;">
														</select>
													</td>
												</tr>
												<tr>
													<td style="text-align: left; width: 36%">Role*:</td>
													<td style="text-align: left;">
														<select id="isPrimary" name="isPrimary" style="width: 60%;">
															<option value="true">Metadata / Tagging</option>
															<option value="false">Hive Schema</option>
														</select>
													</td>
												</tr>
												<tr>
													<td>
														JDBC Connection URL:*
													</td>
													<td>
														<input type="text" name="url" style="width: 90%">
													</td>
												</tr>
												<tr>
													<td>
														UserName:*
													</td>
													<td>
														<input type="text" name="username" style="width: 90%">
													</td>
												</tr>
												<tr>
													<td>
														Password:*
													</td>
													<td>
														<input type="password" name="passwd" style="width: 90%">
													</td>
												</tr>
												<tr>
													<td>
														JDBC Driver Name:*
													</td>
													<td>
														<input type="text" name="driver" style="width: 90%">
													</td>
												</tr>
												<tr>
													<td>
														JDBC Driver Jar:*
													</td>
													<td>
														<input type="file" name="driverJar" style="width: 90%">
													</td>
												</tr>
												
												<tr>
													<td>
														Maximum Connections:*
													</td>
													<td>
														<input type="text" name="maxConnections" style="width: 90%" value = "20">
													</td>
												</tr>
												<tr>
													<td>
														Maximum Idle Connections:*
													</td>
													<td>
														<input type="text" name="maxIdleConnections" style="width: 90%" value = "10">
													</td>
												</tr>
												<tr>
													<td>
														Wait Time MilliSeconds:*
													</td>
													<td>
														<input type="text" name="waitTimeMilliSeconds" style="width: 90%" value = "300000">
													</td>
												</tr>
											</tbody>
										</table>
									</div>
									<br>
									<div class="otherinstruction" style="width: 100%">
										<hr>
									</div>
									<br>
									<div id="submitBox" style="text-align:right; width: 100%; margin-top: 10px;">
										<input type="button" value="Save" name="Save" style="width: 15%;" onClick="javascript:NN_Summary.InsertDB();">
										<input type="button" value="Cancel" name="cancel" style="width: 15%;" onClick="javascript:NN_Summary.closeDBBox();">
									</div>
								</form>
								</div>
								</td>
							</tr>
						</tbody>
					</table>
				</td>
			</tr>
			<tr id="responseDivTr" style="display: none;">
				<td  >
				<div id="msgDiv" style="text-align: center; width: 100%; ">
                		<table align="center" width="100%" style="border-collapse: collapse; text-align: center;">
							<tr>
								<th><span id="popup.component">DB Connection</span></th>
								<th><span id="popup.message">Message</span></th>
								<th><span id="popup.status">Status</span></th>
								<th><span id="popup.image">	</span></th>
							</tr>
							<tr id="pop.pattern" style="display:none;">
								<td><span id="popup.host1"></span></td>
								<td><span id="popup.message1"></span>
								<br><div id="log_div" style="display: none;"></div></td>
								<td><span id="popup.status1"></span></td>
								<td>
									<span id="popup.image.fail" style="display:none;"><img src="images/Fail_img.png" style="height: 12pt; margin-right: 1pt; margin-top: 1pt;"/></span>
									<span id="popup.image.success" style="display:none;"><img  src="images/Success_img.png" style="height: 12pt; margin-right: 1pt; margin-top: 1pt;"/></span>
									<span id="popup.image.processing"><img  src="images/process.gif" style="height: 12pt; margin-right: 1pt; margin-top: 1pt;"/></span>
								</td>
								
							</tr>
							<tr>
							<td colspan="4">
								<input type="button" disabled="true"  class="buttonAdmin" id="ok.popup" value="Ok" onclick="javascript:NN_Summary.closeDBBox();">
							</td>
							</tr>
						</table>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
</div>

<script>
RemoteManager.getAllDatabaseNames(setDatabase);

function setDatabase(list)
{
	DB_Config.setDatabaseNames(list, "type");
}
</script>
