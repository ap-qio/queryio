-- MySQL dump 10.13  Distrib 5.5.25, for osx10.6 (i386)
--
-- Host: localhost    Database: test
-- ------------------------------------------------------
-- Server version	5.5.25

SET DATABASE REFERENTIAL INTEGRITY FALSE;

--
-- Table structure for table `SERDES`
--

CREATE TABLE IF NOT EXISTS `SERDES` (
  `SERDE_ID` bigint NOT NULL,
  `NAME` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `SLIB` varchar(4000) CHARACTER SET latin1  DEFAULT NULL,
  PRIMARY KEY (`SERDE_ID`)
) ;

--
-- Table structure for table `CDS`
--

CREATE TABLE IF NOT EXISTS `CDS` (
  `CD_ID` bigint NOT NULL,
  PRIMARY KEY (`CD_ID`)
) ;

--
-- Table structure for table `SDS`
--

CREATE TABLE IF NOT EXISTS `SDS` (
  `SD_ID` bigint NOT NULL,
  `CD_ID` bigint DEFAULT NULL,
  `INPUT_FORMAT` varchar(4000) CHARACTER SET latin1  DEFAULT NULL,
  `IS_COMPRESSED` bit(1) NOT NULL,
  `IS_STOREDASSUBDIRECTORIES` bit(1) NOT NULL,
  `LOCATION` varchar(4000) CHARACTER SET latin1  DEFAULT NULL,
  `NUM_BUCKETS` int NOT NULL,
  `OUTPUT_FORMAT` varchar(4000) CHARACTER SET latin1  DEFAULT NULL,
  `SERDE_ID` bigint DEFAULT NULL,
  PRIMARY KEY (`SD_ID`),
  CONSTRAINT `SDS_FK1` FOREIGN KEY (`SERDE_ID`) REFERENCES `SERDES` (`SERDE_ID`),
  CONSTRAINT `SDS_FK2` FOREIGN KEY (`CD_ID`) REFERENCES `CDS` (`CD_ID`)
) ;

--
-- Table structure for table `BUCKETING_COLS`
--

CREATE TABLE IF NOT EXISTS `BUCKETING_COLS` (
  `SD_ID` bigint NOT NULL,
  `BUCKET_COL_NAME` varchar(256) CHARACTER SET latin1  DEFAULT NULL,
  `INTEGER_IDX` int NOT NULL,
  PRIMARY KEY (`SD_ID`,`INTEGER_IDX`),
  CONSTRAINT `BUCKETING_COLS_FK1` FOREIGN KEY (`SD_ID`) REFERENCES `SDS` (`SD_ID`)
) ;

--
-- Table structure for table `COLUMNS_V2`
--

CREATE TABLE IF NOT EXISTS `COLUMNS_V2` (
  `CD_ID` bigint NOT NULL,
  `COMMENT` varchar(256) CHARACTER SET latin1  DEFAULT NULL,
  `COLUMN_NAME` varchar(767) CHARACTER SET latin1  NOT NULL,
  `TYPE_NAME` varchar(4000) DEFAULT NULL,
  `INTEGER_IDX` int NOT NULL,
  PRIMARY KEY (`CD_ID`,`COLUMN_NAME`),
  CONSTRAINT `COLUMNS_V2_FK1` FOREIGN KEY (`CD_ID`) REFERENCES `CDS` (`CD_ID`)
) ;

--
-- Table structure for table `DBS`
--

CREATE TABLE IF NOT EXISTS `DBS` (
  `DB_ID` bigint NOT NULL,
  `DESC` varchar(4000) CHARACTER SET latin1  DEFAULT NULL,
  `DB_LOCATION_URI` varchar(4000) CHARACTER SET latin1  NOT NULL,
  `NAME` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `OWNER_NAME` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `OWNER_TYPE` varchar(10) CHARACTER SET latin1  DEFAULT NULL,
  PRIMARY KEY (`DB_ID`),
) ;

--
-- Table structure for table `DATABASE_PARAMS`
--

CREATE TABLE IF NOT EXISTS `DATABASE_PARAMS` (
  `DB_ID` bigint NOT NULL,
  `PARAM_KEY` varchar(180) CHARACTER SET latin1  NOT NULL,
  `PARAM_VALUE` varchar(4000) CHARACTER SET latin1  DEFAULT NULL,
  PRIMARY KEY (`DB_ID`,`PARAM_KEY`),
  CONSTRAINT `DATABASE_PARAMS_FK1` FOREIGN KEY (`DB_ID`) REFERENCES `DBS` (`DB_ID`)
) ;

--
-- Table structure for table `DB_PRIVS`
--

CREATE TABLE IF NOT EXISTS `DB_PRIVS` (
  `DB_GRANT_ID` bigint NOT NULL,
  `CREATE_TIME` int NOT NULL,
  `DB_ID` bigint DEFAULT NULL,
  `GRANT_OPTION` smallint NOT NULL,
  `GRANTOR` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `GRANTOR_TYPE` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `PRINCIPAL_NAME` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `PRINCIPAL_TYPE` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `DB_PRIV` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  PRIMARY KEY (`DB_GRANT_ID`),
  CONSTRAINT `DB_PRIVS_FK1` FOREIGN KEY (`DB_ID`) REFERENCES `DBS` (`DB_ID`)
) ;

--
-- Table structure for table `GLOBAL_PRIVS`
--

CREATE TABLE IF NOT EXISTS `GLOBAL_PRIVS` (
  `USER_GRANT_ID` bigint NOT NULL,
  `CREATE_TIME` int NOT NULL,
  `GRANT_OPTION` smallint NOT NULL,
  `GRANTOR` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `GRANTOR_TYPE` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `PRINCIPAL_NAME` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `PRINCIPAL_TYPE` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `USER_PRIV` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  PRIMARY KEY (`USER_GRANT_ID`),
) ;

--
-- Table structure for table `TBLS`
--

CREATE TABLE IF NOT EXISTS `TBLS` (
  `TBL_ID` bigint NOT NULL,
  `CREATE_TIME` int NOT NULL,
  `DB_ID` bigint DEFAULT NULL,
  `LAST_ACCESS_TIME` int NOT NULL,
  `OWNER` varchar(767) CHARACTER SET latin1  DEFAULT NULL,
  `RETENTION` int NOT NULL,
  `SD_ID` bigint DEFAULT NULL,
  `TBL_NAME` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `TBL_TYPE` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `VIEW_EXPANDED_TEXT` mediumtext,
  `VIEW_ORIGINAL_TEXT` mediumtext,
  PRIMARY KEY (`TBL_ID`),
  CONSTRAINT `TBLS_FK1` FOREIGN KEY (`SD_ID`) REFERENCES `SDS` (`SD_ID`),
  CONSTRAINT `TBLS_FK2` FOREIGN KEY (`DB_ID`) REFERENCES `DBS` (`DB_ID`)
) ;

--
-- Table structure for table `IDXS`
--

CREATE TABLE IF NOT EXISTS `IDXS` (
  `INDEX_ID` bigint NOT NULL,
  `CREATE_TIME` int NOT NULL,
  `DEFERRED_REBUILD` bit(1) NOT NULL,
  `INDEX_HANDLER_CLASS` varchar(4000) CHARACTER SET latin1  DEFAULT NULL,
  `INDEX_NAME` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `INDEX_TBL_ID` bigint DEFAULT NULL,
  `LAST_ACCESS_TIME` int NOT NULL,
  `ORIG_TBL_ID` bigint DEFAULT NULL,
  `SD_ID` bigint DEFAULT NULL,
  PRIMARY KEY (`INDEX_ID`),
  CONSTRAINT `IDXS_FK1` FOREIGN KEY (`ORIG_TBL_ID`) REFERENCES `TBLS` (`TBL_ID`),
  CONSTRAINT `IDXS_FK2` FOREIGN KEY (`SD_ID`) REFERENCES `SDS` (`SD_ID`),
  CONSTRAINT `IDXS_FK3` FOREIGN KEY (`INDEX_TBL_ID`) REFERENCES `TBLS` (`TBL_ID`)
) ;

--
-- Table structure for table `INDEX_PARAMS`
--

CREATE TABLE IF NOT EXISTS `INDEX_PARAMS` (
  `INDEX_ID` bigint NOT NULL,
  `PARAM_KEY` varchar(256) CHARACTER SET latin1  NOT NULL,
  `PARAM_VALUE` varchar(4000) CHARACTER SET latin1  DEFAULT NULL,
  PRIMARY KEY (`INDEX_ID`,`PARAM_KEY`),
  CONSTRAINT `INDEX_PARAMS_FK1` FOREIGN KEY (`INDEX_ID`) REFERENCES `IDXS` (`INDEX_ID`)
) ;

--
-- Table structure for table `NUCLEUS_TABLES`
--

CREATE TABLE IF NOT EXISTS `NUCLEUS_TABLES` (
  `CLASS_NAME` varchar(128) CHARACTER SET latin1  NOT NULL,
  `TABLE_NAME` varchar(128) CHARACTER SET latin1  NOT NULL,
  `TYPE` varchar(4) CHARACTER SET latin1  NOT NULL,
  `OWNER` varchar(2) CHARACTER SET latin1  NOT NULL,
  `VERSION` varchar(20) CHARACTER SET latin1  NOT NULL,
  `INTERFACE_NAME` varchar(255) CHARACTER SET latin1  DEFAULT NULL,
  PRIMARY KEY (`CLASS_NAME`)
) ;

--
-- Table structure for table `PARTITIONS`
--

CREATE TABLE IF NOT EXISTS `PARTITIONS` (
  `PART_ID` bigint NOT NULL,
  `CREATE_TIME` int NOT NULL,
  `LAST_ACCESS_TIME` int NOT NULL,
  `PART_NAME` varchar(767) CHARACTER SET latin1  DEFAULT NULL,
  `SD_ID` bigint DEFAULT NULL,
  `TBL_ID` bigint DEFAULT NULL,
  PRIMARY KEY (`PART_ID`),
  CONSTRAINT `PARTITIONS_FK1` FOREIGN KEY (`TBL_ID`) REFERENCES `TBLS` (`TBL_ID`),
  CONSTRAINT `PARTITIONS_FK2` FOREIGN KEY (`SD_ID`) REFERENCES `SDS` (`SD_ID`)
) ;

--
-- Table structure for table `PARTITION_EVENTS`
--

CREATE TABLE IF NOT EXISTS `PARTITION_EVENTS` (
  `PART_NAME_ID` bigint NOT NULL,
  `DB_NAME` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `EVENT_TIME` bigint NOT NULL,
  `EVENT_TYPE` int NOT NULL,
  `PARTITION_NAME` varchar(767) CHARACTER SET latin1  DEFAULT NULL,
  `TBL_NAME` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  PRIMARY KEY (`PART_NAME_ID`),
) ;

--
-- Table structure for table `PARTITION_KEYS`
--

CREATE TABLE IF NOT EXISTS `PARTITION_KEYS` (
  `TBL_ID` bigint NOT NULL,
  `PKEY_COMMENT` varchar(4000) CHARACTER SET latin1  DEFAULT NULL,
  `PKEY_NAME` varchar(128) CHARACTER SET latin1  NOT NULL,
  `PKEY_TYPE` varchar(767) CHARACTER SET latin1  NOT NULL,
  `INTEGER_IDX` int NOT NULL,
  PRIMARY KEY (`TBL_ID`,`PKEY_NAME`),
  CONSTRAINT `PARTITION_KEYS_FK1` FOREIGN KEY (`TBL_ID`) REFERENCES `TBLS` (`TBL_ID`)
) ;

--
-- Table structure for table `PARTITION_KEY_VALS`
--

CREATE TABLE IF NOT EXISTS `PARTITION_KEY_VALS` (
  `PART_ID` bigint NOT NULL,
  `PART_KEY_VAL` varchar(256) CHARACTER SET latin1  DEFAULT NULL,
  `INTEGER_IDX` int NOT NULL,
  PRIMARY KEY (`PART_ID`,`INTEGER_IDX`),
  CONSTRAINT `PARTITION_KEY_VALS_FK1` FOREIGN KEY (`PART_ID`) REFERENCES `PARTITIONS` (`PART_ID`)
) ;

--
-- Table structure for table `PARTITION_PARAMS`
--

CREATE TABLE IF NOT EXISTS `PARTITION_PARAMS` (
  `PART_ID` bigint NOT NULL,
  `PARAM_KEY` varchar(256) CHARACTER SET latin1  NOT NULL,
  `PARAM_VALUE` varchar(4000) CHARACTER SET latin1  DEFAULT NULL,
  PRIMARY KEY (`PART_ID`,`PARAM_KEY`),
  CONSTRAINT `PARTITION_PARAMS_FK1` FOREIGN KEY (`PART_ID`) REFERENCES `PARTITIONS` (`PART_ID`)
) ;

--
-- Table structure for table `PART_COL_PRIVS`
--

CREATE TABLE IF NOT EXISTS `PART_COL_PRIVS` (
  `PART_COLUMN_GRANT_ID` bigint NOT NULL,
  `COLUMN_NAME` varchar(1000) CHARACTER SET latin1  DEFAULT NULL,
  `CREATE_TIME` int NOT NULL,
  `GRANT_OPTION` smallint NOT NULL,
  `GRANTOR` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `GRANTOR_TYPE` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `PART_ID` bigint DEFAULT NULL,
  `PRINCIPAL_NAME` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `PRINCIPAL_TYPE` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `PART_COL_PRIV` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  PRIMARY KEY (`PART_COLUMN_GRANT_ID`),
  CONSTRAINT `PART_COL_PRIVS_FK1` FOREIGN KEY (`PART_ID`) REFERENCES `PARTITIONS` (`PART_ID`)
) ;

--
-- Table structure for table `PART_PRIVS`
--

CREATE TABLE IF NOT EXISTS `PART_PRIVS` (
  `PART_GRANT_ID` bigint NOT NULL,
  `CREATE_TIME` int NOT NULL,
  `GRANT_OPTION` smallint NOT NULL,
  `GRANTOR` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `GRANTOR_TYPE` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `PART_ID` bigint DEFAULT NULL,
  `PRINCIPAL_NAME` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `PRINCIPAL_TYPE` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `PART_PRIV` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  PRIMARY KEY (`PART_GRANT_ID`),
  CONSTRAINT `PART_PRIVS_FK1` FOREIGN KEY (`PART_ID`) REFERENCES `PARTITIONS` (`PART_ID`)
) ;

--
-- Table structure for table `ROLES`
--

CREATE TABLE IF NOT EXISTS `ROLES` (
  `ROLE_ID` bigint NOT NULL,
  `CREATE_TIME` int NOT NULL,
  `OWNER_NAME` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `ROLE_NAME` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  PRIMARY KEY (`ROLE_ID`),
) ;

--
-- Table structure for table `ROLE_MAP`
--

CREATE TABLE IF NOT EXISTS `ROLE_MAP` (
  `ROLE_GRANT_ID` bigint NOT NULL,
  `ADD_TIME` int NOT NULL,
  `GRANT_OPTION` smallint NOT NULL,
  `GRANTOR` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `GRANTOR_TYPE` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `PRINCIPAL_NAME` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `PRINCIPAL_TYPE` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `ROLE_ID` bigint DEFAULT NULL,
  PRIMARY KEY (`ROLE_GRANT_ID`),
  CONSTRAINT `ROLE_MAP_FK1` FOREIGN KEY (`ROLE_ID`) REFERENCES `ROLES` (`ROLE_ID`)
) ;

--
-- Table structure for table `SD_PARAMS`
--

CREATE TABLE IF NOT EXISTS `SD_PARAMS` (
  `SD_ID` bigint NOT NULL,
  `PARAM_KEY` varchar(256) CHARACTER SET latin1  NOT NULL,
  `PARAM_VALUE` varchar(4000) CHARACTER SET latin1  DEFAULT NULL,
  PRIMARY KEY (`SD_ID`,`PARAM_KEY`),
  CONSTRAINT `SD_PARAMS_FK1` FOREIGN KEY (`SD_ID`) REFERENCES `SDS` (`SD_ID`)
) ;

--
-- Table structure for table `SEQUENCE_TABLE`
--

CREATE TABLE IF NOT EXISTS `SEQUENCE_TABLE` (
  `SEQUENCE_NAME` varchar(255) CHARACTER SET latin1  NOT NULL,
  `NEXT_VAL` bigint NOT NULL,
  PRIMARY KEY (`SEQUENCE_NAME`)
) ;

--
-- Table structure for table `SERDE_PARAMS`
--

CREATE TABLE IF NOT EXISTS `SERDE_PARAMS` (
  `SERDE_ID` bigint NOT NULL,
  `PARAM_KEY` varchar(256) CHARACTER SET latin1  NOT NULL,
  `PARAM_VALUE` varchar(4000) CHARACTER SET latin1  DEFAULT NULL,
  PRIMARY KEY (`SERDE_ID`,`PARAM_KEY`),
  CONSTRAINT `SERDE_PARAMS_FK1` FOREIGN KEY (`SERDE_ID`) REFERENCES `SERDES` (`SERDE_ID`)
) ;

--
-- Table structure for table `SKEWED_COL_NAMES`
--

CREATE TABLE IF NOT EXISTS `SKEWED_COL_NAMES` (
  `SD_ID` bigint NOT NULL,
  `SKEWED_COL_NAME` varchar(256) CHARACTER SET latin1  DEFAULT NULL,
  `INTEGER_IDX` int NOT NULL,
  PRIMARY KEY (`SD_ID`,`INTEGER_IDX`),
  CONSTRAINT `SKEWED_COL_NAMES_FK1` FOREIGN KEY (`SD_ID`) REFERENCES `SDS` (`SD_ID`)
) ;

--
-- Table structure for table `SKEWED_STRING_LIST`
--

CREATE TABLE IF NOT EXISTS `SKEWED_STRING_LIST` (
  `STRING_LIST_ID` bigint NOT NULL,
  PRIMARY KEY (`STRING_LIST_ID`)
) ;

--
-- Table structure for table `SKEWED_COL_VALUE_LOC_MAP`
--

CREATE TABLE IF NOT EXISTS `SKEWED_COL_VALUE_LOC_MAP` (
  `SD_ID` bigint NOT NULL,
  `STRING_LIST_ID_KID` bigint NOT NULL,
  `LOCATION` varchar(4000) CHARACTER SET latin1  DEFAULT NULL,
  PRIMARY KEY (`SD_ID`,`STRING_LIST_ID_KID`),
  CONSTRAINT `SKEWED_COL_VALUE_LOC_MAP_FK2` FOREIGN KEY (`STRING_LIST_ID_KID`) REFERENCES `SKEWED_STRING_LIST` (`STRING_LIST_ID`),
  CONSTRAINT `SKEWED_COL_VALUE_LOC_MAP_FK1` FOREIGN KEY (`SD_ID`) REFERENCES `SDS` (`SD_ID`)
) ;

--
-- Table structure for table `SKEWED_STRING_LIST_VALUES`
--

CREATE TABLE IF NOT EXISTS `SKEWED_STRING_LIST_VALUES` (
  `STRING_LIST_ID` bigint NOT NULL,
  `STRING_LIST_VALUE` varchar(256) CHARACTER SET latin1  DEFAULT NULL,
  `INTEGER_IDX` int NOT NULL,
  PRIMARY KEY (`STRING_LIST_ID`,`INTEGER_IDX`),
  CONSTRAINT `SKEWED_STRING_LIST_VALUES_FK1` FOREIGN KEY (`STRING_LIST_ID`) REFERENCES `SKEWED_STRING_LIST` (`STRING_LIST_ID`)
) ;

--
-- Table structure for table `SKEWED_VALUES`
--

CREATE TABLE IF NOT EXISTS `SKEWED_VALUES` (
  `SD_ID_OID` bigint NOT NULL,
  `STRING_LIST_ID_EID` bigint NOT NULL,
  `INTEGER_IDX` int NOT NULL,
  PRIMARY KEY (`SD_ID_OID`,`INTEGER_IDX`),
  CONSTRAINT `SKEWED_VALUES_FK2` FOREIGN KEY (`STRING_LIST_ID_EID`) REFERENCES `SKEWED_STRING_LIST` (`STRING_LIST_ID`),
  CONSTRAINT `SKEWED_VALUES_FK1` FOREIGN KEY (`SD_ID_OID`) REFERENCES `SDS` (`SD_ID`)
) ;

--
-- Table structure for table `SORT_COLS`
--

CREATE TABLE IF NOT EXISTS `SORT_COLS` (
  `SD_ID` bigint NOT NULL,
  `COLUMN_NAME` varchar(1000) CHARACTER SET latin1  DEFAULT NULL,
  `ORDER` int NOT NULL,
  `INTEGER_IDX` int NOT NULL,
  PRIMARY KEY (`SD_ID`,`INTEGER_IDX`),
  CONSTRAINT `SORT_COLS_FK1` FOREIGN KEY (`SD_ID`) REFERENCES `SDS` (`SD_ID`)
) ;

--
-- Table structure for table `TABLE_PARAMS`
--

CREATE TABLE IF NOT EXISTS `TABLE_PARAMS` (
  `TBL_ID` bigint NOT NULL,
  `PARAM_KEY` varchar(256) CHARACTER SET latin1  NOT NULL,
  `PARAM_VALUE` varchar(4000) CHARACTER SET latin1  DEFAULT NULL,
  PRIMARY KEY (`TBL_ID`,`PARAM_KEY`),
  CONSTRAINT `TABLE_PARAMS_FK1` FOREIGN KEY (`TBL_ID`) REFERENCES `TBLS` (`TBL_ID`)
) ;


--
-- Table structure for table `TBL_COL_PRIVS`
--

CREATE TABLE IF NOT EXISTS `TBL_COL_PRIVS` (
  `TBL_COLUMN_GRANT_ID` bigint NOT NULL,
  `COLUMN_NAME` varchar(1000) CHARACTER SET latin1  DEFAULT NULL,
  `CREATE_TIME` int NOT NULL,
  `GRANT_OPTION` smallint NOT NULL,
  `GRANTOR` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `GRANTOR_TYPE` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `PRINCIPAL_NAME` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `PRINCIPAL_TYPE` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `TBL_COL_PRIV` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `TBL_ID` bigint DEFAULT NULL,
  PRIMARY KEY (`TBL_COLUMN_GRANT_ID`),
  CONSTRAINT `TBL_COL_PRIVS_FK1` FOREIGN KEY (`TBL_ID`) REFERENCES `TBLS` (`TBL_ID`)
) ;

--
-- Table structure for table `TBL_PRIVS`
--

CREATE TABLE IF NOT EXISTS `TBL_PRIVS` (
  `TBL_GRANT_ID` bigint NOT NULL,
  `CREATE_TIME` int NOT NULL,
  `GRANT_OPTION` smallint NOT NULL,
  `GRANTOR` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `GRANTOR_TYPE` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `PRINCIPAL_NAME` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `PRINCIPAL_TYPE` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `TBL_PRIV` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `TBL_ID` bigint DEFAULT NULL,
  PRIMARY KEY (`TBL_GRANT_ID`),
  CONSTRAINT `TBL_PRIVS_FK1` FOREIGN KEY (`TBL_ID`) REFERENCES `TBLS` (`TBL_ID`)
) ;

--
-- Table structure for table `TAB_COL_STATS`
--
CREATE TABLE IF NOT EXISTS `TAB_COL_STATS` (
 `CS_ID` bigint NOT NULL,
 `DB_NAME` varchar(128) CHARACTER SET latin1  NOT NULL,
 `TABLE_NAME` varchar(128) CHARACTER SET latin1  NOT NULL,
 `COLUMN_NAME` varchar(1000) CHARACTER SET latin1  NOT NULL,
 `COLUMN_TYPE` varchar(128) CHARACTER SET latin1  NOT NULL,
 `TBL_ID` bigint NOT NULL,
 `LONG_LOW_VALUE` bigint,
 `LONG_HIGH_VALUE` bigint,
 `DOUBLE_HIGH_VALUE` double,
 `DOUBLE_LOW_VALUE` double,
 `BIG_DECIMAL_LOW_VALUE` varchar(4000) CHARACTER SET latin1 ,
 `BIG_DECIMAL_HIGH_VALUE` varchar(4000) CHARACTER SET latin1 ,
 `NUM_NULLS` bigint NOT NULL,
 `NUM_DISTINCTS` bigint,
 `AVG_COL_LEN` double,
 `MAX_COL_LEN` bigint,
 `NUM_TRUES` bigint,
 `NUM_FALSES` bigint,
 `LAST_ANALYZED` bigint NOT NULL,
  PRIMARY KEY (`CS_ID`),
  CONSTRAINT `TAB_COL_STATS_FK` FOREIGN KEY (`TBL_ID`) REFERENCES `TBLS` (`TBL_ID`)
) ;

--
-- Table structure for table `PART_COL_STATS`
--
CREATE TABLE IF NOT EXISTS `PART_COL_STATS` (
 `CS_ID` bigint NOT NULL,
 `DB_NAME` varchar(128) CHARACTER SET latin1  NOT NULL,
 `TABLE_NAME` varchar(128) CHARACTER SET latin1  NOT NULL,
 `PARTITION_NAME` varchar(767) CHARACTER SET latin1  NOT NULL,
 `COLUMN_NAME` varchar(1000) CHARACTER SET latin1  NOT NULL,
 `COLUMN_TYPE` varchar(128) CHARACTER SET latin1  NOT NULL,
 `PART_ID` bigint NOT NULL,
 `LONG_LOW_VALUE` bigint,
 `LONG_HIGH_VALUE` bigint,
 `DOUBLE_HIGH_VALUE` double,
 `DOUBLE_LOW_VALUE` double,
 `BIG_DECIMAL_LOW_VALUE` varchar(4000) CHARACTER SET latin1 ,
 `BIG_DECIMAL_HIGH_VALUE` varchar(4000) CHARACTER SET latin1 ,
 `NUM_NULLS` bigint NOT NULL,
 `NUM_DISTINCTS` bigint,
 `AVG_COL_LEN` double,
 `MAX_COL_LEN` bigint,
 `NUM_TRUES` bigint,
 `NUM_FALSES` bigint,
 `LAST_ANALYZED` bigint NOT NULL,
  PRIMARY KEY (`CS_ID`),
  CONSTRAINT `PART_COL_STATS_FK` FOREIGN KEY (`PART_ID`) REFERENCES `PARTITIONS` (`PART_ID`)
) ;

CREATE INDEX PCS_STATS_IDX ON PART_COL_STATS (DB_NAME,TABLE_NAME,COLUMN_NAME,PARTITION_NAME) ;

--
-- Table structure for table `TYPES`
--

CREATE TABLE IF NOT EXISTS `TYPES` (
  `TYPES_ID` bigint NOT NULL,
  `TYPE_NAME` varchar(128) CHARACTER SET latin1  DEFAULT NULL,
  `TYPE1` varchar(767) CHARACTER SET latin1  DEFAULT NULL,
  `TYPE2` varchar(767) CHARACTER SET latin1  DEFAULT NULL,
  PRIMARY KEY (`TYPES_ID`),
) ;

--
-- Table structure for table `TYPE_FIELDS`
--

CREATE TABLE IF NOT EXISTS `TYPE_FIELDS` (
  `TYPE_NAME` bigint NOT NULL,
  `COMMENT` varchar(256) CHARACTER SET latin1  DEFAULT NULL,
  `FIELD_NAME` varchar(128) CHARACTER SET latin1  NOT NULL,
  `FIELD_TYPE` varchar(767) CHARACTER SET latin1  NOT NULL,
  `INTEGER_IDX` int NOT NULL,
  PRIMARY KEY (`TYPE_NAME`,`FIELD_NAME`),
  CONSTRAINT `TYPE_FIELDS_FK1` FOREIGN KEY (`TYPE_NAME`) REFERENCES `TYPES` (`TYPES_ID`)
) ;

-- Table `MASTER_KEYS` for classes [org.apache.hadoop.hive.metastore.model.MMasterKey]
CREATE TABLE IF NOT EXISTS `MASTER_KEYS` 
(
    `KEY_ID` INTEGER NOT NULL AUTO_INCREMENT,
    `MASTER_KEY` VARCHAR(767) NULL,
    PRIMARY KEY (`KEY_ID`)
) ;

-- Table `DELEGATION_TOKENS` for classes [org.apache.hadoop.hive.metastore.model.MDelegationToken]
CREATE TABLE IF NOT EXISTS `DELEGATION_TOKENS`
(
    `TOKEN_IDENT` VARCHAR(767) NOT NULL,
    `TOKEN` VARCHAR(767) NULL,
    PRIMARY KEY (`TOKEN_IDENT`)
) ;

--
-- Table structure for VERSION
--
CREATE TABLE IF NOT EXISTS `VERSION` (
  `VER_ID` BIGINT NOT NULL,
  `SCHEMA_VERSION` VARCHAR(127) NOT NULL,
  `VERSION_COMMENT` VARCHAR(255),
  PRIMARY KEY (`VER_ID`)
) ;

--
-- Table structure for table FUNCS
--
CREATE TABLE IF NOT EXISTS `FUNCS` (
  `FUNC_ID` BIGINT NOT NULL,
  `CLASS_NAME` VARCHAR(4000) CHARACTER SET latin1 ,
  `CREATE_TIME` INT NOT NULL,
  `DB_ID` BIGINT,
  `FUNC_NAME` VARCHAR(128) CHARACTER SET latin1 ,
  `FUNC_TYPE` INT NOT NULL,
  `OWNER_NAME` VARCHAR(128) CHARACTER SET latin1 ,
  `OWNER_TYPE` VARCHAR(10) CHARACTER SET latin1 ,
  PRIMARY KEY (`FUNC_ID`),
  CONSTRAINT `FUNCS_FK1` FOREIGN KEY (`DB_ID`) REFERENCES `DBS` (`DB_ID`)
) ;

--
-- Table structure for table FUNC_RU
--
CREATE TABLE IF NOT EXISTS `FUNC_RU` (
  `FUNC_ID` BIGINT NOT NULL,
  `RESOURCE_TYPE` INT NOT NULL,
  `RESOURCE_URI` VARCHAR(4000) CHARACTER SET latin1 ,
  `INTEGER_IDX` INT NOT NULL,
  PRIMARY KEY (`FUNC_ID`, `INTEGER_IDX`),
  CONSTRAINT `FUNC_RU_FK1` FOREIGN KEY (`FUNC_ID`) REFERENCES `FUNCS` (`FUNC_ID`)
) ;

CREATE TABLE IF NOT EXISTS `NOTIFICATION_LOG`
(
    `NL_ID` BIGINT NOT NULL,
    `EVENT_ID` BIGINT NOT NULL,
    `EVENT_TIME` INT NOT NULL,
    `EVENT_TYPE` varchar(32) NOT NULL,
    `DB_NAME` varchar(128),
    `TBL_NAME` varchar(128),
    `MESSAGE` mediumtext,
    PRIMARY KEY (`NL_ID`)
) ;

CREATE TABLE IF NOT EXISTS `NOTIFICATION_SEQUENCE`
(
    `NNI_ID` BIGINT NOT NULL,
    `NEXT_EVENT_ID` BIGINT NOT NULL,
    PRIMARY KEY (`NNI_ID`)
) ;

CREATE TABLE IF NOT EXISTS `KEY_CONSTRAINTS`
(
  `CHILD_CD_ID` BIGINT,
  `CHILD_INTEGER_IDX` INT,
  `CHILD_TBL_ID` BIGINT,
  `PARENT_CD_ID` BIGINT NOT NULL,
  `PARENT_INTEGER_IDX` INT NOT NULL,
  `PARENT_TBL_ID` BIGINT NOT NULL,
  `POSITION` BIGINT NOT NULL,
  `CONSTRAINT_NAME` VARCHAR(400) NOT NULL,
  `CONSTRAINT_TYPE` SMALLINT  NOT NULL,
  `UPDATE_RULE` SMALLINT,
  `DELETE_RULE` SMALLINT,
  `ENABLE_VALIDATE_RELY` SMALLINT NOT NULL,
  PRIMARY KEY (`CONSTRAINT_NAME`, `POSITION`)
) ;

CREATE INDEX `CONSTRAINTS_PARENT_TABLE_ID_INDEX` ON KEY_CONSTRAINTS (`PARENT_TBL_ID`) ;

-- ----------------------------
-- Transaction and Lock Tables
-- ----------------------------
SOURCE hive-txn-schema-2.1.0.mysql.sql;

-- -----------------------------------------------------------------
-- Record schema version. Should be the last step in the init script
-- -----------------------------------------------------------------
INSERT INTO VERSION (VER_ID, SCHEMA_VERSION, VERSION_COMMENT) VALUES (1, '2.1.0', 'Hive release version 2.1.0');

SET DATABASE REFERENTIAL INTEGRITY TRUE;
